{%extends 'base.html'%}

{%block content%}
    {%if current_user.id==id%}
        {%for message in get_flashed_messages()%}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {%endfor%}

        <h1>Update User Profile </h1><br>
        <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
            <form method="POST", enctype="multipart/form-data">
                {{Form.hidden_tag()}}
                {{Form.username.label(class="form-label")}} {{Form.username(class="form-control", value=User_to_update.username)}}<br>
                {{Form.name.label(class="form-label")}} {{Form.name(class="form-control", value=User_to_update.name)}}<br>
                {{Form.email.label(class="form-label")}} {{Form.email(class="form-control", value=User_to_update.email)}}<br>
                {{Form.about_author.label(class="form-label")}} {{Form.about_author(class="form-control")}}<br>
                {{Form.profile_pic.label(class="form-label")}} {{Form.profile_pic(class="form-control")}}<br>
                {{Form.submit(class="btn btn-secondary")}}
                <a class="btn btn-danger" href="{{url_for('delete',id=id)}}">Delete</a>
            </form>
        </div>
    {%else%}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            You Can't Access This Page...
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <h2>Access Denied!!!</h2>
        <p>You can not alter other user's profile.</p>
    {%endif%}
    <br><br><br>
{%endblock%}